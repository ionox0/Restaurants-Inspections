map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Latitude, y = Longitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
View(ratsViolations)
ratsViolationsRemoveRowsWithNAs = ratsViolations[!ratsViolations$Latitude=='#N/A',]
ratsViolationsRemoveRowsWithNAs = ratsViolationsRemoveRowsWithNAs[!ratsViolationsRemoveRowsWithNAs$Longitude=='#N/A',]
View(ratsViolations)
View(ratsViolationsIgnoreNA)
View(ratsViolationsRemoveRowsWithNAs)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2012-04-01"):as.Date("2012-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Latitude, y = Longitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
View(ratsViolationsIgnoreNA)
View(ratsViolationsRemoveRowsWithNAs)
View(ratsViolations)
ratsViolationsRemoveRowsWithNAs$Latitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Latitude)
ratsViolationsRemoveRowsWithNAs$Longitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Longitude)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2012-04-01"):as.Date("2012-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Latitude, y = Longitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
View(ratsViolations)
View(ratsViolationsIgnoreNA)
View(ratsViolationsRemoveRowsWithNAs)
View(ratsViolationsIgnoreNA)
View(ratsViolationsRemoveRowsWithNAs)
View(ratsViolationsIgnoreNA)
ratsViolations = read.csv('Rats_Rest_LL.csv', header=TRUE, fileEncoding = 'latin1')
ratsViolations$dateFormatted = as.Date(ratsViolations$INSPECTION.DATE, "%m/%d/%y")
ratsViolationsRemoveRowsWithNAs = ratsViolations[!ratsViolations$Latitude=='#N/A',]
ratsViolationsRemoveRowsWithNAs = ratsViolations[!ratsViolationsRemoveRowsWithNAs$Longitude=='#N/A',]
ratsViolationsRemoveRowsWithNAs$Latitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Latitude)
ratsViolationsRemoveRowsWithNAs$Longitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Longitude)
View(ratsViolations)
View(ratsViolationsRemoveRowsWithNAs)
ratsViolations = read.csv('Rats_Rest_LL.csv', header=TRUE, fileEncoding = 'latin1')
ratsViolations$dateFormatted = as.Date(ratsViolations$INSPECTION.DATE, "%m/%d/%y")
ratsViolationsRemoveRowsWithNAs = ratsViolations[!ratsViolations$Latitude=='#N/A',]
ratsViolationsRemoveRowsWithNAs = ratsViolations[!ratsViolationsRemoveRowsWithNAs$Longitude=='#N/A',]
View(ratsViolationsRemoveRowsWithNAs)
View(ratsViolationsRemoveRowsWithNAs)
View(ratsViolations)
ratsViolationsRemoveRowsWithNAs$Latitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Latitude)
ratsViolationsRemoveRowsWithNAs$Longitude = as.numeric(ratsViolationsRemoveRowsWithNAs$Longitude)
View(ratsViolationsRemoveRowsWithNAs)
ratsViolations = read.csv('Rats_Rest_LL.csv', header=TRUE, fileEncoding = 'latin1')
ratsViolations$dateFormatted = as.Date(ratsViolations$INSPECTION.DATE, "%m/%d/%y")
View(ratsViolations)
ratsViolationsRemoveRowsWithNAs$Latitude = as.numeric(ratsViolations$Latitude)
ratsViolationsRemoveRowsWithNAs$Longitude = as.numeric(ratsViolations$Longitude)
ratsViolations$Latitude = as.numeric(ratsViolations$Latitude)
ratsViolations$Longitude = as.numeric(ratsViolations$Longitude)
View(ratsViolations)
ratsViolations$Latitude = as.numeric(as.character(ratsViolations$Latitude))
ratsViolations$Longitude = as.numeric(as.character(ratsViolations$Longitude))
ratsViolations = read.csv('Rats_Rest_LL.csv', header=TRUE, fileEncoding = 'latin1')
ratsViolations$dateFormatted = as.Date(ratsViolations$INSPECTION.DATE, "%m/%d/%y")
ratsViolations$Latitude = as.numeric(as.character(ratsViolations$Latitude))
ratsViolations$Longitude = as.numeric(as.character(ratsViolations$Longitude))
View(ratsViolations)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2012-04-01"):as.Date("2012-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Latitude, y = Longitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
View(ratsViolations)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2012-04-01"):as.Date("2012-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude, color="white", colour="white"),
alpha = 0.5, colour="white", color="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
d = as.Date('2015-02-01')
subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30)
a = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30)
View(a)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="white")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black")
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=2)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
# geom_point(
#   data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
#   aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
#   alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
signs = read.csv('rat_signs.csv', header=TRUE, fileEncoding='latin1')
newSigns = data.frame(signs$LATITUDE, signs$LONGITUDE, signs$INSPECTION_DATE)
newSigns$dateFormatted = as.Date(newSigns$signs.INSPECTION_DATE, "%m/%d/%y")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map)
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
source('~/Desktop/Columbia/EDAV/Project3/ian_project_3.R', echo=TRUE)
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue") +
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue") +
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4) +
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
+ geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
+ coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-04-01"):as.Date("2015-04-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-12-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-01-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
+ geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
+ coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-01-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
+ geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-01-30")) {
map_2 = ggplot(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
+ geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-12-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-12-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE, color="blue"),
alpha = 0.5, color="blue")
# map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
#     aes(x = Longitude, y = Latitude),
#     alpha = 0.5, colour="black", size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
map = get_map('newyork', maptype='terrain', source='google')
saveHTML({
ani.options(interval = 0.3)
for (d in as.Date("2015-01-01"):as.Date("2015-01-30")) {
map_2 = ggmap(map) +
geom_point(
data = subset(newSigns, dateFormatted <= d & dateFormatted >= d-30),
aes(x = signs.LONGITUDE, y = signs.LATITUDE),
alpha = 0.5)
map_2 <- map_2 + geom_point(data = subset(ratsViolations, dateFormatted <= d & dateFormatted >= d-30),
aes(x = Longitude, y = Latitude),
alpha = 0.5, size=4)
map_2 <- map_2 + coord_cartesian(xlim = c(-74.10, -73.70), ylim=c(40.5, 40.95))
print(map_2)
}
},
img.name = "rats", imgdir = "ian",
htmlfile = "rats_test.html",
outdir = getwd(), autobrowse = FALSE, ani.height = 680, ani.width = 800,
verbose = FALSE, autoplay = TRUE,
title = "General Rats sightings and Restaurant Rats Violations")
